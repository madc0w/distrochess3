{"version":3,"file":"Cb5fuHVJ.js","sources":["../../../pages/signin.vue"],"sourcesContent":["<template>\r\n\t<div class=\"auth-page\" v-cloak>\r\n\t\t<div class=\"gradient\"></div>\r\n\t\t<AuthForm mode=\"signin\" :redirect-to=\"redirectTarget\" />\r\n\t</div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, watchEffect } from 'vue';\r\nimport AuthForm from '~/components/AuthForm.vue';\r\nimport { useAuth } from '~/composables/useAuth';\r\nimport { useEscapeKey } from '~/composables/useEscapeKey';\r\n\r\ndefinePageMeta({\r\n\tssr: false,\r\n});\r\n\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nconst { isAuthenticated } = useAuth();\r\n\r\nconst redirectTarget = computed(() => {\r\n\tconst raw = Array.isArray(route.query.redirect)\r\n\t\t? route.query.redirect[0]\r\n\t\t: route.query.redirect;\r\n\tif (typeof raw !== 'string' || !raw) return '/';\r\n\ttry {\r\n\t\tconst decoded = decodeURIComponent(raw);\r\n\t\treturn decoded.startsWith('/') ? decoded : '/';\r\n\t} catch (_err) {\r\n\t\treturn raw.startsWith('/') ? raw : '/';\r\n\t}\r\n});\r\n\r\nuseEscapeKey(() => {\r\n\trouter.replace('/');\r\n});\r\n\r\nwatchEffect(() => {\r\n\tif (isAuthenticated.value) {\r\n\t\trouter.replace(redirectTarget.value || '/');\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.auth-page {\r\n\tposition: relative;\r\n\tmin-height: 100vh;\r\n\tbackground: #0f1115;\r\n\tcolor: #fff;\r\n\toverflow: hidden;\r\n}\r\n\r\n.gradient {\r\n\tposition: absolute;\r\n\tinset: 0;\r\n\tbackground: radial-gradient(\r\n\t\t\tcircle at 20% 20%,\r\n\t\t\trgba(72, 187, 120, 0.5),\r\n\t\t\ttransparent 55%\r\n\t\t),\r\n\t\tradial-gradient(circle at 80% 0%, rgba(96, 165, 250, 0.4), transparent 50%),\r\n\t\tlinear-gradient(\r\n\t\t\t135deg,\r\n\t\t\trgba(13, 17, 23, 0.95) 0%,\r\n\t\t\trgba(13, 17, 23, 0.8) 70%\r\n\t\t);\r\n\tfilter: blur(0px);\r\n\tz-index: 0;\r\n}\r\n\r\n.auth-page :deep(.auth-shell) {\r\n\tposition: relative;\r\n\tz-index: 1;\r\n}\r\n</style>\r\n"],"names":["router","useRouter","route","useRoute","isAuthenticated","useAuth","redirectTarget","computed","raw","decoded","useEscapeKey","watchEffect","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","AuthForm"],"mappings":"6SAiBA,MAAMA,EAASC,EAAA,EACTC,EAAQC,EAAA,EACR,CAAE,gBAAAC,CAAA,EAAoBC,EAAA,EAEtBC,EAAiBC,EAAS,IAAM,CACrC,MAAMC,EAAM,MAAM,QAAQN,EAAM,MAAM,QAAQ,EAC3CA,EAAM,MAAM,SAAS,CAAC,EACtBA,EAAM,MAAM,SACf,GAAI,OAAOM,GAAQ,UAAY,CAACA,EAAK,MAAO,IAC5C,GAAI,CACH,MAAMC,EAAU,mBAAmBD,CAAG,EACtC,OAAOC,EAAQ,WAAW,GAAG,EAAIA,EAAU,GAC5C,MAAe,CACd,OAAOD,EAAI,WAAW,GAAG,EAAIA,EAAM,GACpC,CACD,CAAC,EAED,OAAAE,EAAa,IAAM,CAClBV,EAAO,QAAQ,GAAG,CACnB,CAAC,EAEDW,EAAY,IAAM,CACbP,EAAgB,OACnBJ,EAAO,QAAQM,EAAe,OAAS,GAAG,CAE5C,CAAC,UAzCAM,EAAA,EAAAC,EAGM,MAHNC,EAGM,aAFLC,EAA4B,MAAA,CAAvB,MAAM,UAAA,EAAU,KAAA,EAAA,GACrBC,EAAwDC,EAAA,CAA9C,KAAK,SAAU,cAAaX,EAAA,KAAA"}