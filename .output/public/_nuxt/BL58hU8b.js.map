{"version":3,"file":"BL58hU8b.js","sources":["../../../components/AuthForm.vue"],"sourcesContent":["<template>\r\n\t<div class=\"auth-shell\">\r\n\t\t<div class=\"auth-card\">\r\n\t\t\t<div class=\"auth-header\">\r\n\t\t\t\t<p class=\"eyebrow\">{{ t.distroChess }}</p>\r\n\t\t\t\t<h1>{{ heading }}</h1>\r\n\t\t\t\t<p class=\"subtitle\">{{ subtitle }}</p>\r\n\t\t\t\t<div class=\"auth-switch\">\r\n\t\t\t\t\t<span>{{ switchCopy }}</span>\r\n\t\t\t\t\t<NuxtLink :to=\"switchTo\" class=\"switch-link\">\r\n\t\t\t\t\t\t{{ switchLabel }}\r\n\t\t\t\t\t</NuxtLink>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<form class=\"form\" @submit.prevent=\"handleSubmit\">\r\n\t\t\t\t<div v-if=\"mode === 'signup'\" class=\"form-group\">\r\n\t\t\t\t\t<label for=\"name\">{{ t.name }}</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tautocomplete=\"name\"\r\n\t\t\t\t\t\tv-model.trim=\"name\"\r\n\t\t\t\t\t\t:placeholder=\"t.enterName\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<label for=\"email\">{{ t.email }}</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tautocomplete=\"email\"\r\n\t\t\t\t\t\tv-model.trim=\"email\"\r\n\t\t\t\t\t\t:placeholder=\"t.enterEmail\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t<label for=\"password\">{{ t.password }}</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t:autocomplete=\"\r\n\t\t\t\t\t\t\tmode === 'signup' ? 'new-password' : 'current-password'\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t\tv-model=\"password\"\r\n\t\t\t\t\t\t:placeholder=\"t.enterPassword\"\r\n\t\t\t\t\t\t:minlength=\"6\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div v-if=\"mode === 'signin'\" class=\"form-row\">\r\n\t\t\t\t\t<NuxtLink class=\"forgot-link\" to=\"/forgot-password\">\r\n\t\t\t\t\t\t{{ t.forgotPassword }}\r\n\t\t\t\t\t</NuxtLink>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button type=\"submit\" class=\"primary\" :disabled=\"isLoading\">\r\n\t\t\t\t\t{{ isLoading ? t.pleaseWait : primaryLabel }}\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\r\n\t\t\t<p v-if=\"error\" class=\"error\">{{ error }}</p>\r\n\r\n\t\t\t<div class=\"back-home\">\r\n\t\t\t\t<NuxtLink to=\"/\" class=\"back-link\">\r\n\t\t\t\t\t{{ t.authPage.backHome }}\r\n\t\t\t\t</NuxtLink>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, ref, watch } from 'vue';\r\nimport type { RouteLocationRaw } from 'vue-router';\r\nimport { useAuth } from '~/composables/useAuth';\r\nimport { useI18n } from '~/composables/useI18n';\r\nimport { translateServerError } from '~/composables/useServerErrors';\r\n\r\nconst props = defineProps<{ mode: 'signin' | 'signup'; redirectTo?: string }>();\r\n\r\nconst { t } = useI18n();\r\nconst { signin, signup } = useAuth();\r\n\r\nconst name = ref('');\r\nconst email = ref('');\r\nconst password = ref('');\r\nconst isLoading = ref(false);\r\nconst error = ref('');\r\n\r\nconst heading = computed(() =>\r\n\tprops.mode === 'signin'\r\n\t\t? t.value.authPage.signinTitle\r\n\t\t: t.value.authPage.signupTitle\r\n);\r\nconst subtitle = computed(() =>\r\n\tprops.mode === 'signin'\r\n\t\t? t.value.authPage.signinSubtitle\r\n\t\t: t.value.authPage.signupSubtitle\r\n);\r\nconst switchCopy = computed(() =>\r\n\tprops.mode === 'signin' ? t.value.noAccount : t.value.haveAccount\r\n);\r\nconst switchLabel = computed(() =>\r\n\tprops.mode === 'signin' ? t.value.signup : t.value.signin\r\n);\r\nconst switchTo = computed<RouteLocationRaw>(() => {\r\n\tconst basePath = props.mode === 'signin' ? '/signup' : '/signin';\r\n\tif (props.redirectTo) {\r\n\t\treturn { path: basePath, query: { redirect: props.redirectTo } };\r\n\t}\r\n\treturn basePath;\r\n});\r\nconst primaryLabel = computed(() =>\r\n\tprops.mode === 'signin' ? t.value.signin : t.value.signup\r\n);\r\n\r\nwatch([name, email, password], () => {\r\n\tif (error.value) error.value = '';\r\n});\r\n\r\nasync function handleSubmit() {\r\n\terror.value = '';\r\n\tisLoading.value = true;\r\n\r\n\ttry {\r\n\t\tconst result =\r\n\t\t\tprops.mode === 'signin'\r\n\t\t\t\t? await signin(email.value, password.value)\r\n\t\t\t\t: await signup(name.value, email.value, password.value);\r\n\r\n\t\tif (!result.success) {\r\n\t\t\terror.value = result.error || t.value.errors.ERR_GENERIC;\r\n\t\t\treturn;\r\n\t\t}\r\n\t} catch (err: any) {\r\n\t\terror.value =\r\n\t\t\ttranslateServerError(err, t.value) || t.value.errors.ERR_GENERIC;\r\n\t} finally {\r\n\t\tisLoading.value = false;\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.auth-shell {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tpadding: 3rem 1rem;\r\n\tmin-height: 100vh;\r\n}\r\n\r\n.auth-card {\r\n\twidth: 100%;\r\n\tmax-width: 420px;\r\n\tbackground: rgba(255, 255, 255, 0.85);\r\n\tbackdrop-filter: blur(6px);\r\n\tborder-radius: 16px;\r\n\tpadding: 2.5rem;\r\n\tbox-shadow: 0 20px 60px rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.auth-header {\r\n\ttext-align: left;\r\n\tmargin-bottom: 1.5rem;\r\n}\r\n\r\n.auth-header h1 {\r\n\tmargin: 0;\r\n\tcolor: #0f1115;\r\n}\r\n\r\n.eyebrow {\r\n\ttext-transform: uppercase;\r\n\tfont-size: 0.75rem;\r\n\tletter-spacing: 0.2em;\r\n\tcolor: #2d9a54;\r\n\tmargin-bottom: 0.5rem;\r\n}\r\n\r\n.subtitle {\r\n\tcolor: #5c6470;\r\n\tmargin-top: 0.5rem;\r\n\tmargin-bottom: 1rem;\r\n\tline-height: 1.5;\r\n}\r\n\r\n.auth-switch {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 0.5rem;\r\n\tfont-size: 0.9rem;\r\n\tcolor: #5c6470;\r\n}\r\n\r\n.switch-link {\r\n\tcolor: #2d9a54;\r\n\tfont-weight: 600;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.switch-link:hover {\r\n\ttext-decoration: underline;\r\n}\r\n\r\n.form {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 1rem;\r\n}\r\n\r\n.form-row {\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n}\r\n\r\n.forgot-link {\r\n\tfont-size: 0.9rem;\r\n\tcolor: #2d9a54;\r\n\ttext-decoration: none;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.forgot-link:hover {\r\n\ttext-decoration: underline;\r\n}\r\n\r\n.form-group label {\r\n\tdisplay: block;\r\n\tmargin-bottom: 0.4rem;\r\n\tfont-weight: 600;\r\n\tcolor: #242b36;\r\n}\r\n\r\n.form-group input {\r\n\twidth: 100%;\r\n\tpadding: 0.85rem;\r\n\tborder-radius: 10px;\r\n\tborder: 1px solid #d4d8de;\r\n\tfont-size: 1rem;\r\n}\r\n\r\n.form-group input:focus {\r\n\toutline: none;\r\n\tborder-color: #2d9a54;\r\n\tbox-shadow: 0 0 0 2px rgba(45, 154, 84, 0.15);\r\n}\r\n\r\n.primary {\r\n\tbackground: #2d9a54;\r\n\tcolor: #fff;\r\n\tborder: none;\r\n\tpadding: 0.9rem;\r\n\tborder-radius: 10px;\r\n\tfont-size: 1rem;\r\n\tfont-weight: 600;\r\n\tcursor: pointer;\r\n\ttransition: transform 0.15s ease, box-shadow 0.15s ease;\r\n}\r\n\r\n.primary:disabled {\r\n\topacity: 0.7;\r\n\tcursor: not-allowed;\r\n}\r\n\r\n.primary:hover:not(:disabled) {\r\n\ttransform: translateY(-1px);\r\n\tbox-shadow: 0 12px 30px rgba(45, 154, 84, 0.25);\r\n}\r\n\r\n.error {\r\n\tmargin-top: 1rem;\r\n\tcolor: #d93025;\r\n\tfont-weight: 500;\r\n\tbackground: #fdecea;\r\n\tpadding: 0.75rem 1rem;\r\n\tborder-radius: 8px;\r\n}\r\n\r\n.back-home {\r\n\tmargin-top: 1.25rem;\r\n\ttext-align: center;\r\n}\r\n\r\n.back-link {\r\n\tcolor: #5c6470;\r\n\ttext-decoration: none;\r\n\tfont-size: 0.9rem;\r\n}\r\n\r\n.back-link:hover {\r\n\ttext-decoration: underline;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n\t.auth-card {\r\n\t\tpadding: 1.75rem;\r\n\t}\r\n}\r\n</style>\r\n"],"names":["props","__props","t","useI18n","signin","signup","useAuth","name","ref","email","password","isLoading","error","heading","computed","subtitle","switchCopy","switchLabel","switchTo","basePath","primaryLabel","watch","handleSubmit","result","err","translateServerError","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","_unref","_hoisted_5","_hoisted_6","_createVNode","_component_NuxtLink","_hoisted_7","_hoisted_8","$event","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_16","_createTextVNode","_hoisted_17","_hoisted_18","_hoisted_19"],"mappings":"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"}