{"version":3,"mappings":"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","names":["_imports_0","publicAssetsURL","STORAGE_KEY_SCORE","STORAGE_KEY_TRIALS","t","locale","setLocale","useI18n","isAuthenticated","getAuthHeader","useAuth","supportedLocales","en","languageOptions","computed","code","isShowLanguageMenu","ref","langButton","menuPosition","toggleLanguageMenu","nextTick","rect","selectLanguage","lang","handleClickOutside","event","images","isLoading","error","selectedImageId","selectionCounts","hasSelected","selectedRank","showResultModal","countdownProgress","modalTimeoutId","countdownIntervalId","totalScore","numTrials","averageScore","loadScores","storedScore","storedTrials","headers","userData","err","saveScores","getWinningImageId","maxCount","winningId","id","count","isWinningImage","publicId","calculateRank","a","b","item","calculatePoints","rank","n","showConfetti","__vitePreload","mod","dismissModal","fetchImages","showModal","MODAL_DURATION","UPDATE_INTERVAL","decrementPerStep","setInterval","selectImage","publicIds","img","response","points","onMounted","onUnmounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","_unref","_hoisted_4","_hoisted_5","_createBlock","_Teleport","_Fragment","_renderList","option","$event","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_cache","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","image","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30"],"ignoreList":[],"sources":["../../../virtual:public?%2FPopIt%20Logo%20small.png","../../../pages/popit.vue"],"sourcesContent":["import { publicAssetsURL } from '#internal/nuxt/paths';export default publicAssetsURL(\"/PopIt Logo small.png\")","<template>\r\n\t<div class=\"container\">\r\n\t\t<div class=\"page-header\">\r\n\t\t\t<h1>\r\n\t\t\t\t<img src=\"/PopIt Logo small.png\" alt=\"PopIt\" class=\"page-logo\" />\r\n\t\t\t\t<span class=\"page-title-text\">{{ t.popit.title }}</span>\r\n\t\t\t</h1>\r\n\t\t\t<div class=\"language-dropdown\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"btn-lang\"\r\n\t\t\t\t\t@click=\"toggleLanguageMenu\"\r\n\t\t\t\t\t:aria-label=\"t.landing?.languageLabel || 'Language'\"\r\n\t\t\t\t\tref=\"langButton\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{{ locale.toUpperCase() }}\r\n\t\t\t\t</button>\r\n\t\t\t\t<Teleport to=\"body\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tv-if=\"isShowLanguageMenu\"\r\n\t\t\t\t\t\tclass=\"language-menu\"\r\n\t\t\t\t\t\t:style=\"menuPosition\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tv-for=\"option in languageOptions\"\r\n\t\t\t\t\t\t\t:key=\"option.value\"\r\n\t\t\t\t\t\t\tclass=\"language-option\"\r\n\t\t\t\t\t\t\t:class=\"{ active: locale === option.value }\"\r\n\t\t\t\t\t\t\t@click=\"selectLanguage(option.value)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ option.label }}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Teleport>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"content\">\r\n\t\t\t<p v-if=\"!hasSelected\">{{ t.popit.instructions }}</p>\r\n\r\n\t\t\t<div class=\"score-section\">\r\n\t\t\t\t<div class=\"score-item\">\r\n\t\t\t\t\t<span class=\"score-label\">{{ t.popit.averageScore }}:</span>\r\n\t\t\t\t\t<div class=\"score-value-row\">\r\n\t\t\t\t\t\t<span class=\"score-value\">{{\r\n\t\t\t\t\t\t\tMath.round(100 * averageScore)\r\n\t\t\t\t\t\t}}</span>\r\n\t\t\t\t\t\t<span class=\"score-label-small\"> / 400</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"score-item\">\r\n\t\t\t\t\t<span class=\"score-label\">{{ t.popit.trials }}:</span>\r\n\t\t\t\t\t<span class=\"score-value\">{{ numTrials }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"images-section\">\r\n\t\t\t\t<!-- \r\n                <button @click=\"fetchImages\" class=\"refresh-btn\" :disabled=\"loading\">\r\n\t\t\t\t\t{{\r\n\t\t\t\t\t\tloading\r\n\t\t\t\t\t\t\t? t.popit.loading\r\n\t\t\t\t\t\t\t: hasSelected\r\n\t\t\t\t\t\t\t? t.popit.playAgain\r\n\t\t\t\t\t\t\t: t.popit.refreshImages\r\n\t\t\t\t\t}}\r\n\t\t\t\t</button> -->\r\n\r\n\t\t\t\t<div v-if=\"error\" class=\"error-message\">\r\n\t\t\t\t\t{{ error }}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div v-if=\"isLoading\" class=\"loading\">\r\n\t\t\t\t\t{{ t.popit.loadingImages }}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div v-else class=\"image-grid\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tv-for=\"image in images\"\r\n\t\t\t\t\t\t:key=\"image.publicId\"\r\n\t\t\t\t\t\tclass=\"image-card\"\r\n\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\tselected: selectedImageId === image.publicId,\r\n\t\t\t\t\t\t\trevealed: hasSelected,\r\n\t\t\t\t\t\t\twinner: hasSelected && isWinningImage(image.publicId),\r\n\t\t\t\t\t\t\tclickable: !hasSelected,\r\n\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t@click=\"selectImage(image.publicId)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img :src=\"image.url\" :alt=\"image.publicId\" loading=\"lazy\" />\r\n\t\t\t\t\t\t<div class=\"image-name\">{{ image.query }}</div>\r\n\t\t\t\t\t\t<div v-if=\"hasSelected\" class=\"selection-count\">\r\n\t\t\t\t\t\t\t<span class=\"count-number\">{{\r\n\t\t\t\t\t\t\t\tselectionCounts[image.publicId] || 0\r\n\t\t\t\t\t\t\t}}</span>\r\n\t\t\t\t\t\t\t<span class=\"count-label\">{{ t.popit.selections }}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- Result Modal -->\r\n\t\t<Teleport to=\"body\">\r\n\t\t\t<div\r\n\t\t\t\tv-if=\"showResultModal\"\r\n\t\t\t\tclass=\"modal-overlay\"\r\n\t\t\t\t@click.self=\"dismissModal\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"result-modal\">\r\n\t\t\t\t\t<div v-if=\"selectedRank === 1\" class=\"modal-message winner\">\r\n\t\t\t\t\t\tðŸŽ‰ {{ t.popit.youWon }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div v-else class=\"modal-message\">\r\n\t\t\t\t\t\t{{ t.popit.youSelected }} #{{ selectedRank }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"modal-countdown\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"countdown-bar\"\r\n\t\t\t\t\t\t\t:style=\"{ width: countdownProgress + '%' }\"\r\n\t\t\t\t\t\t></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button class=\"modal-ok-btn\" @click=\"dismissModal\">OK</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Teleport>\r\n\t</div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, nextTick, onMounted, onUnmounted, ref } from 'vue';\r\nimport { useAuth } from '~/composables/useAuth';\r\nimport { useI18n } from '~/composables/useI18n';\r\nimport { en } from '~/i18n';\r\n\r\nconst { t, locale, setLocale } = useI18n();\r\nconst { isAuthenticated, getAuthHeader } = useAuth();\r\n\r\ndefinePageMeta({\r\n\tssr: false,\r\n});\r\n\r\n// Language dropdown\r\ntype LocaleKey = keyof typeof en.languages;\r\nconst supportedLocales = Object.keys(en.languages) as LocaleKey[];\r\n\r\nconst languageOptions = computed(() =>\r\n\tsupportedLocales.map((code) => ({\r\n\t\tvalue: code,\r\n\t\tlabel: t.value.languages?.[code] ?? en.languages[code] ?? code,\r\n\t}))\r\n);\r\n\r\nconst isShowLanguageMenu = ref(false);\r\nconst langButton = ref<HTMLElement | null>(null);\r\nconst menuPosition = ref({});\r\n\r\nfunction toggleLanguageMenu() {\r\n\tisShowLanguageMenu.value = !isShowLanguageMenu.value;\r\n\r\n\tif (isShowLanguageMenu.value && langButton.value) {\r\n\t\tnextTick(() => {\r\n\t\t\tconst rect = langButton.value!.getBoundingClientRect();\r\n\t\t\tmenuPosition.value = {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: `${rect.bottom + 8}px`,\r\n\t\t\t\tright: `${window.innerWidth - rect.right}px`,\r\n\t\t\t\tzIndex: 999999,\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction selectLanguage(lang: string) {\r\n\tsetLocale(lang, true);\r\n\tisShowLanguageMenu.value = false;\r\n}\r\n\r\nfunction handleClickOutside(event: MouseEvent) {\r\n\tconst target = event.target as HTMLElement;\r\n\tif (!target.closest('.language-dropdown')) {\r\n\t\tisShowLanguageMenu.value = false;\r\n\t}\r\n}\r\n\r\ninterface CloudinaryImage {\r\n\turl: string;\r\n\tpublicId: string;\r\n\tquery: string;\r\n\twidth: number;\r\n\theight: number;\r\n\tformat: string;\r\n}\r\n\r\nconst STORAGE_KEY_SCORE = 'popit_total_score';\r\nconst STORAGE_KEY_TRIALS = 'popit_num_trials';\r\n\r\nconst images = ref<CloudinaryImage[]>([]);\r\nconst isLoading = ref(false);\r\nconst error = ref<string | null>(null);\r\nconst selectedImageId = ref<string | null>(null);\r\nconst selectionCounts = ref<Record<string, number>>({});\r\nconst hasSelected = ref(false);\r\nconst selectedRank = ref(0);\r\n\r\n// Modal state\r\nconst showResultModal = ref(false);\r\nconst countdownProgress = ref(100);\r\nlet modalTimeoutId: ReturnType<typeof setTimeout> | null = null;\r\nlet countdownIntervalId: ReturnType<typeof setInterval> | null = null;\r\n\r\n// Score tracking\r\nconst totalScore = ref(0);\r\nconst numTrials = ref(0);\r\n\r\nconst averageScore = computed(() => {\r\n\tif (numTrials.value === 0) return 0;\r\n\treturn totalScore.value / numTrials.value;\r\n});\r\n\r\n// Load scores from server (if authenticated) or localStorage\r\nasync function loadScores() {\r\n\tif (typeof window === 'undefined') return;\r\n\r\n\t// First load from localStorage for immediate display\r\n\tconst storedScore = localStorage.getItem(STORAGE_KEY_SCORE);\r\n\tconst storedTrials = localStorage.getItem(STORAGE_KEY_TRIALS);\r\n\ttotalScore.value = storedScore ? parseInt(storedScore, 10) : 0;\r\n\tnumTrials.value = storedTrials ? parseInt(storedTrials, 10) : 0;\r\n\r\n\t// If authenticated, fetch from server and use that as source of truth\r\n\tif (isAuthenticated.value) {\r\n\t\ttry {\r\n\t\t\tconst headers = getAuthHeader();\r\n\t\t\tif (headers) {\r\n\t\t\t\tconst userData = await $fetch<{\r\n\t\t\t\t\tpopitScore: number;\r\n\t\t\t\t\tpopitTrials: number;\r\n\t\t\t\t}>('/api/user', { headers });\r\n\t\t\t\ttotalScore.value = userData.popitScore ?? 0;\r\n\t\t\t\tnumTrials.value = userData.popitTrials ?? 0;\r\n\t\t\t\t// Sync localStorage with server values\r\n\t\t\t\tlocalStorage.setItem(STORAGE_KEY_SCORE, totalScore.value.toString());\r\n\t\t\t\tlocalStorage.setItem(STORAGE_KEY_TRIALS, numTrials.value.toString());\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Failed to fetch user popit scores:', err);\r\n\t\t\t// Fall back to localStorage values already loaded\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Save scores to server (if authenticated) and localStorage\r\nasync function saveScores() {\r\n\tif (typeof window === 'undefined') return;\r\n\r\n\t// Always save to localStorage\r\n\tlocalStorage.setItem(STORAGE_KEY_SCORE, totalScore.value.toString());\r\n\tlocalStorage.setItem(STORAGE_KEY_TRIALS, numTrials.value.toString());\r\n\r\n\t// If authenticated, also persist to server\r\n\tif (isAuthenticated.value) {\r\n\t\ttry {\r\n\t\t\tconst headers = getAuthHeader();\r\n\t\t\tif (headers) {\r\n\t\t\t\tawait $fetch('/api/popit-score', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders,\r\n\t\t\t\t\tbody: {\r\n\t\t\t\t\t\tpopitScore: totalScore.value,\r\n\t\t\t\t\t\tpopitTrials: numTrials.value,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Failed to save popit scores to server:', err);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Get the winning image (most selected)\r\nfunction getWinningImageId() {\r\n\tlet maxCount = -1;\r\n\tlet winningId = '';\r\n\tfor (const [id, count] of Object.entries(selectionCounts.value)) {\r\n\t\tif (count > maxCount) {\r\n\t\t\tmaxCount = count;\r\n\t\t\twinningId = id;\r\n\t\t}\r\n\t}\r\n\treturn winningId;\r\n}\r\n\r\nfunction isWinningImage(publicId: string) {\r\n\treturn publicId === getWinningImageId();\r\n}\r\n\r\n// Calculate rank of selected image (1 = most selected)\r\nfunction calculateRank(publicId: string): number {\r\n\tconst counts = Object.entries(selectionCounts.value)\r\n\t\t.map(([id, count]) => ({ id, count }))\r\n\t\t.sort((a, b) => b.count - a.count);\r\n\r\n\tconst rank = counts.findIndex((item) => item.id === publicId) + 1;\r\n\treturn rank;\r\n}\r\n\r\n// Calculate points based on rank\r\nfunction calculatePoints(rank: number): number {\r\n\tconst n = images.value.length;\r\n\treturn Math.max(0, n - rank + 1);\r\n}\r\n\r\nfunction showConfetti() {\r\n\tif (typeof window !== 'undefined') {\r\n\t\timport('canvas-confetti').then((mod) => {\r\n\t\t\tmod.default({\r\n\t\t\t\tparticleCount: 200,\r\n\t\t\t\tspread: 90,\r\n\t\t\t\torigin: { y: 0.7 },\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction dismissModal() {\r\n\t// Clear any existing timers\r\n\tif (modalTimeoutId) {\r\n\t\tclearTimeout(modalTimeoutId);\r\n\t\tmodalTimeoutId = null;\r\n\t}\r\n\tif (countdownIntervalId) {\r\n\t\tclearInterval(countdownIntervalId);\r\n\t\tcountdownIntervalId = null;\r\n\t}\r\n\r\n\tshowResultModal.value = false;\r\n\tcountdownProgress.value = 100;\r\n\tfetchImages();\r\n}\r\n\r\nfunction showModal() {\r\n\tshowResultModal.value = true;\r\n\tcountdownProgress.value = 100;\r\n\r\n\tconst MODAL_DURATION = 4000;\r\n\tconst UPDATE_INTERVAL = 50;\r\n\tconst steps = MODAL_DURATION / UPDATE_INTERVAL;\r\n\tconst decrementPerStep = 100 / steps;\r\n\r\n\t// Start countdown animation\r\n\tcountdownIntervalId = setInterval(() => {\r\n\t\tcountdownProgress.value = Math.max(\r\n\t\t\t0,\r\n\t\t\tcountdownProgress.value - decrementPerStep\r\n\t\t);\r\n\t}, UPDATE_INTERVAL);\r\n\r\n\t// Auto-dismiss after 4 seconds\r\n\tmodalTimeoutId = setTimeout(() => {\r\n\t\tdismissModal();\r\n\t}, MODAL_DURATION);\r\n}\r\n\r\nasync function selectImage(publicId: string) {\r\n\tif (hasSelected.value || isLoading.value) return;\r\n\r\n\tselectedImageId.value = publicId;\r\n\r\n\ttry {\r\n\t\t// Persist the selection\r\n\t\tawait $fetch('/api/image-selection', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: { publicId },\r\n\t\t});\r\n\r\n\t\t// Fetch all selection counts\r\n\t\tconst publicIds = images.value.map((img) => img.publicId).join(',');\r\n\t\tconst response = await $fetch<{ counts: Record<string, number> }>(\r\n\t\t\t`/api/image-selection?publicIds=${encodeURIComponent(publicIds)}`\r\n\t\t);\r\n\t\tselectionCounts.value = response.counts;\r\n\r\n\t\thasSelected.value = true;\r\n\r\n\t\t// Calculate rank and points\r\n\t\tselectedRank.value = calculateRank(publicId);\r\n\t\tconst points = calculatePoints(selectedRank.value);\r\n\r\n\t\t// Update scores\r\n\t\ttotalScore.value += points;\r\n\t\tnumTrials.value += 1;\r\n\t\tsaveScores();\r\n\r\n\t\t// Show confetti if won (selected most popular)\r\n\t\tif (selectedRank.value === 1) {\r\n\t\t\tshowConfetti();\r\n\t\t}\r\n\r\n\t\t// Show result modal\r\n\t\tshowModal();\r\n\t} catch (err: any) {\r\n\t\terror.value = err.message || 'Failed to record selection';\r\n\t\tconsole.error('Error selecting image:', err);\r\n\t}\r\n}\r\n\r\nasync function fetchImages() {\r\n\tisLoading.value = true;\r\n\terror.value = null;\r\n\thasSelected.value = false;\r\n\tselectedImageId.value = null;\r\n\tselectionCounts.value = {};\r\n\tselectedRank.value = 0;\r\n\r\n\ttry {\r\n\t\tconst response = await $fetch<{ images: CloudinaryImage[] }>(\r\n\t\t\t'/api/cloudinary-images'\r\n\t\t);\r\n\t\timages.value = response.images;\r\n\t} catch (err: any) {\r\n\t\terror.value = err.message || 'Failed to load images';\r\n\t\tconsole.error('Error fetching images:', err);\r\n\t} finally {\r\n\t\tisLoading.value = false;\r\n\t}\r\n}\r\n\r\n// Fetch images on mount\r\nonMounted(() => {\r\n\tloadScores();\r\n\tfetchImages();\r\n\tdocument.addEventListener('click', handleClickOutside);\r\n});\r\n\r\nonUnmounted(() => {\r\n\tdocument.removeEventListener('click', handleClickOutside);\r\n\tif (modalTimeoutId) {\r\n\t\tclearTimeout(modalTimeoutId);\r\n\t}\r\n\tif (countdownIntervalId) {\r\n\t\tclearInterval(countdownIntervalId);\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n\tmax-width: 1200px;\r\n\tmargin: 0 auto;\r\n\tpadding: 1.25rem;\r\n\tmin-height: 100vh;\r\n\tanimation: fadeInPage 0.15s ease-out;\r\n}\r\n\r\n@keyframes fadeInPage {\r\n\tfrom {\r\n\t\topacity: 0;\r\n\t\tvisibility: hidden;\r\n\t}\r\n\tto {\r\n\t\topacity: 1;\r\n\t\tvisibility: visible;\r\n\t}\r\n}\r\n\r\n.page-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 1.25rem;\r\n\tpadding-bottom: 0.5rem;\r\n\tflex-wrap: wrap;\r\n\tgap: 1rem;\r\n\tposition: relative;\r\n}\r\n\r\n.page-header h1 {\r\n\tmargin: 0;\r\n\tcolor: #333;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 0.75rem;\r\n\tfont-size: 2.5rem;\r\n}\r\n\r\n.page-logo {\r\n\theight: 48px;\r\n\twidth: auto;\r\n\tborder-radius: 8px;\r\n}\r\n\r\n.page-title-text {\r\n\tfont-size: inherit;\r\n\tfont-weight: 600;\r\n\tcolor: #f0ad4e;\r\n\tfont-family: 'Courier New', Courier, monospace;\r\n\tletter-spacing: 8px;\r\n\t-webkit-text-stroke: 4px black;\r\n\tpaint-order: stroke fill;\r\n}\r\n\r\n.btn-back {\r\n\tpadding: 0.5rem 1rem;\r\n\tborder: 1px solid #5cb85c;\r\n\tcolor: #fff;\r\n\tborder-radius: 4px;\r\n\tfont-size: 0.9rem;\r\n\tfont-weight: 500;\r\n\ttext-decoration: none;\r\n\tbackground: #5cb85c;\r\n\ttransition: all 0.2s ease;\r\n}\r\n\r\n.btn-back:hover {\r\n\tbackground: #4a9d4a;\r\n\tborder-color: #4a9d4a;\r\n}\r\n\r\n.content {\r\n\tbackground: #fff;\r\n\tborder-radius: 16px;\r\n\tbox-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);\r\n\tpadding: 2rem;\r\n\ttext-align: center;\r\n}\r\n\r\n.content p {\r\n\tfont-size: 1.25rem;\r\n\tcolor: #666;\r\n\tmargin: 0;\r\n}\r\n\r\n.images-section {\r\n\tmargin-top: 2rem;\r\n}\r\n\r\n.images-section h2 {\r\n\tcolor: #333;\r\n\tmargin-bottom: 1rem;\r\n}\r\n\r\n.refresh-btn {\r\n\tpadding: 0.75rem 1.5rem;\r\n\tbackground: #5cb85c;\r\n\tcolor: white;\r\n\tborder: none;\r\n\tborder-radius: 8px;\r\n\tfont-size: 1rem;\r\n\tcursor: pointer;\r\n\ttransition: background 0.2s ease;\r\n\tmargin-bottom: 1.5rem;\r\n}\r\n\r\n.refresh-btn:hover:not(:disabled) {\r\n\tbackground: #4a9d4a;\r\n}\r\n\r\n.refresh-btn:disabled {\r\n\tbackground: #ccc;\r\n\tcursor: not-allowed;\r\n}\r\n\r\n.loading {\r\n\tcolor: #666;\r\n\tfont-size: 1.1rem;\r\n\tpadding: 2rem;\r\n}\r\n\r\n.error-message {\r\n\tcolor: #d9534f;\r\n\tbackground: #fdf2f2;\r\n\tpadding: 1rem;\r\n\tborder-radius: 8px;\r\n\tmargin-bottom: 1rem;\r\n}\r\n\r\n.image-grid {\r\n\tdisplay: grid;\r\n\tgrid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n\tgap: 1.5rem;\r\n\tmargin-top: 1rem;\r\n}\r\n\r\n.image-card {\r\n\tbackground: #f9f9f9;\r\n\tborder-radius: 12px;\r\n\toverflow: hidden;\r\n\tbox-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);\r\n\ttransition: transform 0.2s ease, box-shadow 0.2s ease, border 0.2s ease;\r\n\tposition: relative;\r\n\tborder: 3px solid transparent;\r\n}\r\n\r\n.image-card.clickable {\r\n\tcursor: pointer;\r\n}\r\n\r\n.image-card.clickable:hover {\r\n\ttransform: translateY(-4px);\r\n\tbox-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.image-card.revealed {\r\n\topacity: 0.7;\r\n}\r\n\r\n.image-card.selected {\r\n\tborder-color: #5cb85c;\r\n\topacity: 1;\r\n}\r\n\r\n.image-card.winner {\r\n\tborder-color: #f0ad4e;\r\n\topacity: 1;\r\n\tbox-shadow: 0 0 20px rgba(240, 173, 78, 0.5);\r\n}\r\n\r\n.image-card.selected.winner {\r\n\tborder-color: #5cb85c;\r\n\tbox-shadow: 0 0 20px rgba(92, 184, 92, 0.5);\r\n}\r\n\r\n.image-card img {\r\n\twidth: 100%;\r\n\taspect-ratio: 1 / 1;\r\n\tobject-fit: contain;\r\n\tdisplay: block;\r\n\tbackground: #f0f0f0;\r\n}\r\n\r\n.image-name {\r\n\tfont-size: 0.75rem;\r\n\tcolor: #666;\r\n\tpadding: 0.25rem 0.5rem;\r\n\ttext-align: center;\r\n\tbackground: #f5f5f5;\r\n}\r\n\r\n.selection-count {\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground: rgba(0, 0, 0, 0.75);\r\n\tcolor: white;\r\n\tpadding: 0.75rem;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n}\r\n\r\n.count-number {\r\n\tfont-size: 1.5rem;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.count-label {\r\n\tfont-size: 0.8rem;\r\n\topacity: 0.9;\r\n}\r\n\r\n.image-id {\r\n\tpadding: 0.75rem;\r\n\tfont-size: 0.85rem;\r\n\tcolor: #666;\r\n\tmargin: 0;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.result-message {\r\n\tfont-size: 1.5rem;\r\n\tfont-weight: 600;\r\n\tmargin-bottom: 1rem;\r\n}\r\n\r\n.result-message.winner {\r\n\tcolor: #5cb85c;\r\n}\r\n\r\n.score-section {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tgap: 2rem;\r\n\tmargin: 1.5rem 0;\r\n\tpadding: 1rem;\r\n\tbackground: #f5f5f5;\r\n\tborder-radius: 12px;\r\n}\r\n\r\n.score-item {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n}\r\n\r\n.score-label {\r\n\tfont-size: 0.9rem;\r\n\tcolor: #666;\r\n}\r\n\r\n.score-label-small {\r\n\tmargin-left: 8px;\r\n\tfont-size: 0.9rem;\r\n\tcolor: #666;\r\n}\r\n\r\n.score-value-row {\r\n\tdisplay: flex;\r\n\talign-items: baseline;\r\n\tjustify-content: center;\r\n}\r\n\r\n.score-value {\r\n\tfont-size: 1.75rem;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n\t.page-header {\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.page-header h1 {\r\n\t\tflex-basis: 100%;\r\n\t\tjustify-content: center;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 2rem;\r\n\t}\r\n\r\n\t.page-logo {\r\n\t\theight: 52px;\r\n\t\tborder-radius: 8px;\r\n\t}\r\n}\r\n\r\n@media (max-width: 600px) {\r\n\t.container {\r\n\t\tpadding: 0.5rem;\r\n\t}\r\n\r\n\t.content {\r\n\t\tpadding: 1rem;\r\n\t}\r\n\r\n\t.image-grid {\r\n\t\tgrid-template-columns: repeat(2, 1fr);\r\n\t\tgap: 0.75rem;\r\n\t}\r\n\r\n\t.selection-count {\r\n\t\tpadding: 0.5rem;\r\n\t}\r\n\r\n\t.count-number {\r\n\t\tfont-size: 1.1rem;\r\n\t}\r\n\r\n\t.count-label {\r\n\t\tfont-size: 0.7rem;\r\n\t}\r\n}\r\n\r\n/* Language dropdown styles */\r\n.language-dropdown {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tz-index: 100000;\r\n}\r\n\r\n.btn-lang {\r\n\tpadding: 0.45rem 0.75rem;\r\n\tborder: 1px solid rgba(0, 0, 0, 0.2);\r\n\tcolor: #333;\r\n\tborder-radius: 999px;\r\n\tfont-size: 0.75rem;\r\n\tfont-weight: 600;\r\n\ttext-decoration: none;\r\n\tbackground: rgba(255, 255, 255, 0.9);\r\n\tbackdrop-filter: blur(10px);\r\n\ttransition: all 0.2s ease;\r\n\tcursor: pointer;\r\n\twhite-space: nowrap;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 0.35rem;\r\n}\r\n\r\n.btn-lang::before {\r\n\tcontent: '';\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\tdisplay: inline-block;\r\n\tbackground-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23333333' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cline x1='2' y1='12' x2='22' y2='12'/%3E%3Cpath d='M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z'/%3E%3C/svg%3E\");\r\n\tbackground-size: contain;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: center;\r\n}\r\n\r\n.btn-lang:hover {\r\n\tbackground: rgba(0, 0, 0, 0.1);\r\n\ttransform: scale(1.05);\r\n}\r\n\r\n.language-menu {\r\n\tbackground: rgba(255, 255, 255, 0.98);\r\n\tbackdrop-filter: blur(20px);\r\n\tborder: 1px solid rgba(0, 0, 0, 0.1);\r\n\tborder-radius: 12px;\r\n\tbox-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\r\n\toverflow: hidden;\r\n\tmin-width: 140px;\r\n\tanimation: slideDownMenu 0.2s ease-out;\r\n\tpointer-events: auto;\r\n}\r\n\r\n@keyframes slideDownMenu {\r\n\tfrom {\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(-10px);\r\n\t}\r\n\tto {\r\n\t\topacity: 1;\r\n\t\ttransform: translateY(0);\r\n\t}\r\n}\r\n\r\n.language-option {\r\n\twidth: 100%;\r\n\tpadding: 0.75rem 1rem;\r\n\tborder: none;\r\n\tbackground: transparent;\r\n\tcolor: #0f1115;\r\n\tfont-size: 0.875rem;\r\n\tfont-weight: 500;\r\n\ttext-align: left;\r\n\tcursor: pointer;\r\n\ttransition: background 0.2s ease;\r\n}\r\n\r\n.language-option:hover {\r\n\tbackground: rgba(116, 214, 109, 0.15);\r\n}\r\n\r\n.language-option.active {\r\n\tbackground: rgba(116, 214, 109, 0.25);\r\n\tfont-weight: 600;\r\n}\r\n\r\n/* Result Modal styles */\r\n.modal-overlay {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tbackground: transparent;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: flex-start;\r\n\tpointer-events: none;\r\n\tz-index: 1000000;\r\n\tanimation: fadeIn 0.2s ease-out;\r\n}\r\n\r\n@keyframes fadeIn {\r\n\tfrom {\r\n\t\topacity: 0;\r\n\t}\r\n\tto {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n.result-modal {\r\n\tbackground: white;\r\n\tborder-radius: 12px;\r\n\tpadding: 1rem 1.5rem;\r\n\tmin-width: 250px;\r\n\tmax-width: 90%;\r\n\ttext-align: center;\r\n\tbox-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);\r\n\tmargin-top: 120px;\r\n\tpointer-events: auto;\r\n\tanimation: slideDown 0.3s ease-out;\r\n}\r\n\r\n@keyframes slideDown {\r\n\tfrom {\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(-20px);\r\n\t}\r\n\tto {\r\n\t\topacity: 1;\r\n\t\ttransform: translateY(0);\r\n\t}\r\n}\r\n\r\n.modal-message {\r\n\tfont-size: 1.25rem;\r\n\tfont-weight: 600;\r\n\tcolor: #333;\r\n\tmargin-bottom: 0.75rem;\r\n}\r\n\r\n.modal-message.winner {\r\n\tcolor: #5cb85c;\r\n\tfont-size: 1.35rem;\r\n}\r\n\r\n.modal-countdown {\r\n\theight: 4px;\r\n\tbackground: #e0e0e0;\r\n\tborder-radius: 2px;\r\n\tmargin-bottom: 0.75rem;\r\n\toverflow: hidden;\r\n}\r\n\r\n.countdown-bar {\r\n\theight: 100%;\r\n\tbackground: #5cb85c;\r\n\tborder-radius: 2px;\r\n\ttransition: width 0.05s linear;\r\n}\r\n\r\n.modal-ok-btn {\r\n\tpadding: 0.5rem 1.5rem;\r\n\tbackground: #5cb85c;\r\n\tcolor: white;\r\n\tborder: none;\r\n\tborder-radius: 8px;\r\n\tfont-size: 1rem;\r\n\tfont-weight: 600;\r\n\tcursor: pointer;\r\n\ttransition: background 0.2s ease, transform 0.1s ease;\r\n}\r\n\r\n.modal-ok-btn:hover {\r\n\tbackground: #4a9d4a;\r\n}\r\n\r\n.modal-ok-btn:active {\r\n\ttransform: scale(0.98);\r\n}\r\n</style>\r\n"],"file":"BYR1HF93.js"}