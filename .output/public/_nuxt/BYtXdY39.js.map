{"version":3,"file":"BYtXdY39.js","sources":["../../../utils/formatDate.ts"],"sourcesContent":["export type DateInput = Date | string | number | null | undefined;\r\n\r\nfunction toDate(value: DateInput): Date | null {\r\n\tif (value instanceof Date)\r\n\t\treturn Number.isNaN(value.getTime()) ? null : value;\r\n\tif (value === null || value === undefined) return null;\r\n\tconst parsed = new Date(value);\r\n\treturn Number.isNaN(parsed.getTime()) ? null : parsed;\r\n}\r\n\r\nexport function formatDate(\r\n\tvalue: DateInput,\r\n\tlocale = 'en',\r\n\tfallback = '--'\r\n): string {\r\n\tconst date = toDate(value);\r\n\tif (!date) return fallback;\r\n\tconst lang = locale || 'en';\r\n\tconst month = new Intl.DateTimeFormat(lang, { month: 'short' }).format(date);\r\n\tconst day = date.getDate().toString().padStart(2, '0');\r\n\tconst year = date.getFullYear();\r\n\tconst hours = date.getHours().toString().padStart(2, '0');\r\n\tconst minutes = date.getMinutes().toString().padStart(2, '0');\r\n\treturn `${day} ${month}, ${year} ${hours}:${minutes}`;\r\n}\r\n\r\nexport function formatDateOnly(\r\n\tvalue: DateInput,\r\n\tlocale = 'en',\r\n\tfallback = '--'\r\n): string {\r\n\tconst date = toDate(value);\r\n\tif (!date) return fallback;\r\n\tconst lang = locale || 'en';\r\n\tconst month = new Intl.DateTimeFormat(lang, { month: 'short' }).format(date);\r\n\tconst day = date.getDate().toString().padStart(2, '0');\r\n\tconst year = date.getFullYear();\r\n\treturn `${day} ${month}, ${year}`;\r\n}\r\n\r\nexport function formatMemberSince(\r\n\tvalue: DateInput,\r\n\ttranslations: {\r\n\t\ttoday: string;\r\n\t\tday: string;\r\n\t\tdays: string;\r\n\t\tmonth: string;\r\n\t\tmonths: string;\r\n\t\tyear: string;\r\n\t\tyears: string;\r\n\t},\r\n\tfallback = '--'\r\n): string {\r\n\tconst date = toDate(value);\r\n\tif (!date) return fallback;\r\n\r\n\tconst now = new Date();\r\n\tconst diffMs = now.getTime() - date.getTime();\r\n\tconst diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\r\n\r\n\tif (diffDays < 1) {\r\n\t\treturn translations.today;\r\n\t} else if (diffDays === 1) {\r\n\t\treturn translations.day.replace('{count}', '1');\r\n\t} else if (diffDays < 30) {\r\n\t\treturn translations.days.replace('{count}', String(diffDays));\r\n\t} else if (diffDays < 365) {\r\n\t\tconst months = Math.floor(diffDays / 30);\r\n\t\treturn months === 1\r\n\t\t\t? translations.month.replace('{count}', '1')\r\n\t\t\t: translations.months.replace('{count}', String(months));\r\n\t} else {\r\n\t\tconst years = Math.floor(diffDays / 365);\r\n\t\treturn years === 1\r\n\t\t\t? translations.year.replace('{count}', '1')\r\n\t\t\t: translations.years.replace('{count}', String(years));\r\n\t}\r\n}\r\n"],"names":["toDate","value","parsed","formatDate","locale","fallback","date","lang","month","day","year","hours","minutes","formatMemberSince","translations","diffMs","diffDays","months","years"],"mappings":"AAEA,SAASA,EAAOC,EAA+B,CAC9C,GAAIA,aAAiB,KACpB,OAAO,OAAO,MAAMA,EAAM,QAAA,CAAS,EAAI,KAAOA,EAC/C,GAAIA,GAAU,KAA6B,OAAO,KAClD,MAAMC,EAAS,IAAI,KAAKD,CAAK,EAC7B,OAAO,OAAO,MAAMC,EAAO,QAAA,CAAS,EAAI,KAAOA,CAChD,CAEO,SAASC,EACfF,EACAG,EAAS,KACTC,EAAW,KACF,CACT,MAAMC,EAAON,EAAOC,CAAK,EACzB,GAAI,CAACK,EAAM,OAAOD,EAClB,MAAME,EAAOH,GAAU,KACjBI,EAAQ,IAAI,KAAK,eAAeD,EAAM,CAAE,MAAO,OAAA,CAAS,EAAE,OAAOD,CAAI,EACrEG,EAAMH,EAAK,QAAA,EAAU,WAAW,SAAS,EAAG,GAAG,EAC/CI,EAAOJ,EAAK,YAAA,EACZK,EAAQL,EAAK,SAAA,EAAW,WAAW,SAAS,EAAG,GAAG,EAClDM,EAAUN,EAAK,WAAA,EAAa,WAAW,SAAS,EAAG,GAAG,EAC5D,MAAO,GAAGG,CAAG,IAAID,CAAK,KAAKE,CAAI,IAAIC,CAAK,IAAIC,CAAO,EACpD,CAgBO,SAASC,EACfZ,EACAa,EASAT,EAAW,KACF,CACT,MAAMC,EAAON,EAAOC,CAAK,EACzB,GAAI,CAACK,EAAM,OAAOD,EAGlB,MAAMU,MADU,KAAA,EACG,QAAA,EAAYT,EAAK,QAAA,EAC9BU,EAAW,KAAK,MAAMD,GAAU,IAAO,GAAK,GAAK,GAAG,EAE1D,GAAIC,EAAW,EACd,OAAOF,EAAa,MACrB,GAAWE,IAAa,EACvB,OAAOF,EAAa,IAAI,QAAQ,UAAW,GAAG,EAC/C,GAAWE,EAAW,GACrB,OAAOF,EAAa,KAAK,QAAQ,UAAW,OAAOE,CAAQ,CAAC,EAC7D,GAAWA,EAAW,IAAK,CAC1B,MAAMC,EAAS,KAAK,MAAMD,EAAW,EAAE,EACvC,OAAOC,IAAW,EACfH,EAAa,MAAM,QAAQ,UAAW,GAAG,EACzCA,EAAa,OAAO,QAAQ,UAAW,OAAOG,CAAM,CAAC,CACzD,KAAO,CACN,MAAMC,EAAQ,KAAK,MAAMF,EAAW,GAAG,EACvC,OAAOE,IAAU,EACdJ,EAAa,KAAK,QAAQ,UAAW,GAAG,EACxCA,EAAa,MAAM,QAAQ,UAAW,OAAOI,CAAK,CAAC,CACvD,CACD"}