import{_ as C}from"./7vXxnD6-.js";import{u as g,t as N}from"./lqf0okqB.js";import{u as E}from"./Dx6LfG2l.js";import{a as B}from"./BYtXdY39.js";import{g as L,j as M,m as h,y as S,c as d,a,b as T,w as b,l as p,k as s,t as o,F as V,r as x,o as t,d as i,q as f,s as I,_ as R}from"./Cy8nOPVn.js";const D={class:"container"},F={class:"leaderboard-page"},G={class:"leaderboard-topbar"},$={class:"top-links"},j={class:"page-header"},q={class:"subtitle"},z={key:0,class:"loading-state"},H={key:1,class:"error-state"},P={key:2,class:"leaderboard-table"},J={class:"rank-col"},K={class:"name-col"},O={class:"score-col"},Q={class:"stat-col"},U={class:"stat-col"},W={class:"stat-col"},X={class:"date-col"},Y={class:"rank-col"},Z={key:0},ee={key:1},ae={key:2},oe={key:3},se={class:"name-col"},te={key:0,class:"you-tag"},de={class:"score-col"},re={class:"stat-col"},le={class:"stat-col"},ne={class:"stat-col"},ce={class:"date-col"},ie={key:3,class:"empty-state"},_e=L({__name:"leaderboard",setup(ue){const{isAuthenticated:k}=g(),{t:e}=E(),A=M(()=>({today:e.value.leaderboard.timeAgo.today,day:typeof e.value.leaderboard.timeAgo.day=="function"?e.value.leaderboard.timeAgo.day():e.value.leaderboard.timeAgo.day,days:typeof e.value.leaderboard.timeAgo.days=="function"?e.value.leaderboard.timeAgo.days():e.value.leaderboard.timeAgo.days,month:typeof e.value.leaderboard.timeAgo.month=="function"?e.value.leaderboard.timeAgo.month():e.value.leaderboard.timeAgo.month,months:typeof e.value.leaderboard.timeAgo.months=="function"?e.value.leaderboard.timeAgo.months():e.value.leaderboard.timeAgo.months,year:typeof e.value.leaderboard.timeAgo.year=="function"?e.value.leaderboard.timeAgo.year():e.value.leaderboard.timeAgo.year,years:typeof e.value.leaderboard.timeAgo.years=="function"?e.value.leaderboard.timeAgo.years():e.value.leaderboard.timeAgo.years})),{user:v}=g(),_=h([]),u=h(!1),n=h("");async function w(){u.value=!0,n.value="";try{const c=await $fetch("/api/leaderboard");_.value=c}catch(c){n.value=N(c,e.value)||e.value.errors.ERR_GENERIC}finally{u.value=!1}}return S(()=>{w()}),(c,y)=>{const m=C;return t(),d("div",D,[a("div",F,[a("header",G,[T(m,{to:"/",class:"logo"},{default:b(()=>[i(o(s(e).distroChess),1)]),_:1}),a("nav",$,[s(k)?(t(),p(m,{key:0,to:"/game",class:"ghost-link"},{default:b(()=>[i(o(s(e).leaderboard.backToGame),1)]),_:1})):(t(),p(m,{key:1,to:"/",class:"ghost-link"},{default:b(()=>[i(o(s(e).leaderboard.backToHome),1)]),_:1}))])]),a("div",j,[a("h1",null,o(s(e).leaderboard.title),1),a("p",q,o(s(e).leaderboard.subtitle),1)]),u.value?(t(),d("div",z,[y[0]||(y[0]=a("div",{class:"loading-spinner"},null,-1)),a("p",null,o(s(e).leaderboard.loading),1)])):n.value?(t(),d("div",H,[a("p",null,o(n.value),1)])):_.value.length?(t(),d("div",P,[a("table",null,[a("thead",null,[a("tr",null,[a("th",J,o(s(e).leaderboard.rank),1),a("th",K,o(s(e).leaderboard.player),1),a("th",O,o(s(e).leaderboard.score),1),a("th",Q,o(s(e).leaderboard.wins),1),a("th",U,o(s(e).leaderboard.losses),1),a("th",W,o(s(e).leaderboard.draws),1),a("th",X,o(s(e).leaderboard.memberSince),1)])]),a("tbody",null,[(t(!0),d(V,null,x(_.value,(r,l)=>(t(),d("tr",{key:r._id,class:f({"current-user":r._id===s(v)?._id})},[a("td",Y,[a("span",{class:f(["rank-badge",`rank-${l+1}`])},[l===0?(t(),d("span",Z,"ğŸ†")):l===1?(t(),d("span",ee,"ğŸ¥ˆ")):l===2?(t(),d("span",ae,"ğŸ¥‰")):(t(),d("span",oe,o(l+1),1))],2)]),a("td",se,[i(o(r.name)+" ",1),r._id===s(v)?._id?(t(),d("span",te,o(s(e).leaderboard.you),1)):I("",!0)]),a("td",de,o(Math.round(r.score)),1),a("td",re,o(r.wins),1),a("td",le,o(r.losses),1),a("td",ne,o(r.draws),1),a("td",ce,o(s(B)(r.createdDate,A.value)),1)],2))),128))])])])):(t(),d("div",ie,[a("p",null,o(s(e).leaderboard.noPlayers),1)]))])])}}}),ge=R(_e,[["__scopeId","data-v-28e24b44"]]);export{ge as default};
//# sourceMappingURL=CVbdB2_6.js.map
