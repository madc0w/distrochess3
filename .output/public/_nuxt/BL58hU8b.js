import{_ as B}from"./7vXxnD6-.js";import{g as I,m,j as r,n as L,c as _,a as s,s as w,t,k as a,b,w as y,B as D,C as k,D as x,o as g,d as E,_ as U}from"./Cy8nOPVn.js";import{u as F,t as G}from"./lqf0okqB.js";import{u as M}from"./Dx6LfG2l.js";const j={class:"auth-shell"},H={class:"auth-card"},W={class:"auth-header"},z={class:"eyebrow"},J={class:"subtitle"},K={class:"auth-switch"},O={key:0,class:"form-group"},Q={for:"name"},X=["placeholder"],Y={class:"form-group"},Z={for:"email"},$=["placeholder"],ee={class:"form-group"},se={for:"password"},te=["autocomplete","placeholder"],ae={key:1,class:"form-row"},oe=["disabled"],ie={key:0,class:"error"},ne={class:"back-home"},le=I({__name:"AuthForm",props:{mode:{},redirectTo:{}},setup(p){const o=p,{t:e}=M(),{signin:C,signup:N}=F(),v=m(""),u=m(""),d=m(""),h=m(!1),n=m(""),P=r(()=>o.mode==="signin"?e.value.authPage.signinTitle:e.value.authPage.signupTitle),T=r(()=>o.mode==="signin"?e.value.authPage.signinSubtitle:e.value.authPage.signupSubtitle),V=r(()=>o.mode==="signin"?e.value.noAccount:e.value.haveAccount),A=r(()=>o.mode==="signin"?e.value.signup:e.value.signin),R=r(()=>{const i=o.mode==="signin"?"/signup":"/signin";return o.redirectTo?{path:i,query:{redirect:o.redirectTo}}:i}),S=r(()=>o.mode==="signin"?e.value.signin:e.value.signup);L([v,u,d],()=>{n.value&&(n.value="")});async function q(){n.value="",h.value=!0;try{const i=o.mode==="signin"?await C(u.value,d.value):await N(v.value,u.value,d.value);if(!i.success){n.value=i.error||e.value.errors.ERR_GENERIC;return}}catch(i){n.value=G(i,e.value)||e.value.errors.ERR_GENERIC}finally{h.value=!1}}return(i,l)=>{const f=B;return g(),_("div",j,[s("div",H,[s("div",W,[s("p",z,t(a(e).distroChess),1),s("h1",null,t(P.value),1),s("p",J,t(T.value),1),s("div",K,[s("span",null,t(V.value),1),b(f,{to:R.value,class:"switch-link"},{default:y(()=>[E(t(A.value),1)]),_:1},8,["to"])])]),s("form",{class:"form",onSubmit:D(q,["prevent"])},[p.mode==="signup"?(g(),_("div",O,[s("label",Q,t(a(e).name),1),k(s("input",{id:"name",type:"text",required:"",autocomplete:"name","onUpdate:modelValue":l[0]||(l[0]=c=>v.value=c),placeholder:a(e).enterName},null,8,X),[[x,v.value,void 0,{trim:!0}]])])):w("",!0),s("div",Y,[s("label",Z,t(a(e).email),1),k(s("input",{id:"email",type:"email",required:"",autocomplete:"email","onUpdate:modelValue":l[1]||(l[1]=c=>u.value=c),placeholder:a(e).enterEmail},null,8,$),[[x,u.value,void 0,{trim:!0}]])]),s("div",ee,[s("label",se,t(a(e).password),1),k(s("input",{id:"password",type:"password",required:"",autocomplete:p.mode==="signup"?"new-password":"current-password","onUpdate:modelValue":l[2]||(l[2]=c=>d.value=c),placeholder:a(e).enterPassword,minlength:6},null,8,te),[[x,d.value]])]),p.mode==="signin"?(g(),_("div",ae,[b(f,{class:"forgot-link",to:"/forgot-password"},{default:y(()=>[E(t(a(e).forgotPassword),1)]),_:1})])):w("",!0),s("button",{type:"submit",class:"primary",disabled:h.value},t(h.value?a(e).pleaseWait:S.value),9,oe)],32),n.value?(g(),_("p",ie,t(n.value),1)):w("",!0),s("div",ne,[b(f,{to:"/",class:"back-link"},{default:y(()=>[E(t(a(e).authPage.backHome),1)]),_:1})])])])}}}),me=U(le,[["__scopeId","data-v-7ae1a557"]]);export{me as A};
//# sourceMappingURL=BL58hU8b.js.map
