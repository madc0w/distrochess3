{"version":3,"file":"B1qGeCHa.js","sources":["../../../pages/reset-password.vue"],"sourcesContent":["<template>\r\n\t<div class=\"auth-page\" v-cloak>\r\n\t\t<div class=\"gradient\"></div>\r\n\t\t<div class=\"auth-shell\">\r\n\t\t\t<div class=\"auth-card\">\r\n\t\t\t\t<div class=\"auth-header\">\r\n\t\t\t\t\t<p class=\"eyebrow\">{{ t.distroChess }}</p>\r\n\t\t\t\t\t<h1>{{ t.authPage.resetPasswordTitle }}</h1>\r\n\t\t\t\t\t<p class=\"subtitle\">{{ t.authPage.resetPasswordSubtitle }}</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<form v-if=\"!success\" class=\"form\" @submit.prevent=\"handleSubmit\">\r\n\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t<label for=\"new-password\">{{ t.password }}</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid=\"new-password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tautocomplete=\"new-password\"\r\n\t\t\t\t\t\t\tv-model=\"password\"\r\n\t\t\t\t\t\t\t:placeholder=\"t.enterNewPassword\"\r\n\t\t\t\t\t\t\tminlength=\"6\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t<label for=\"confirm-password\">{{ t.confirmPassword }}</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid=\"confirm-password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tautocomplete=\"new-password\"\r\n\t\t\t\t\t\t\tv-model=\"confirmPassword\"\r\n\t\t\t\t\t\t\t:placeholder=\"t.enterPasswordAgain\"\r\n\t\t\t\t\t\t\tminlength=\"6\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div v-if=\"tokenMissing\" class=\"alert\">\r\n\t\t\t\t\t\t{{ t.authPage.resetPasswordExpired }}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type=\"submit\" class=\"primary\" :disabled=\"isLoading\">\r\n\t\t\t\t\t\t{{ isLoading ? t.pleaseWait : t.authPage.resetPasswordCta }}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<div v-else class=\"success-copy\">\r\n\t\t\t\t\t<h2>{{ t.authPage.resetPasswordSuccessTitle }}</h2>\r\n\t\t\t\t\t<p>{{ t.authPage.resetPasswordSuccessBody }}</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<p v-if=\"error\" class=\"error\">{{ error }}</p>\r\n\r\n\t\t\t\t<div class=\"back-home\">\r\n\t\t\t\t\t<NuxtLink v-if=\"success\" to=\"/signin\" class=\"back-link\">\r\n\t\t\t\t\t\t{{ t.authPage.backToSignin }}\r\n\t\t\t\t\t</NuxtLink>\r\n\t\t\t\t\t<NuxtLink v-else to=\"/forgot-password\" class=\"back-link\">\r\n\t\t\t\t\t\t{{ t.forgotPassword }}\r\n\t\t\t\t\t</NuxtLink>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, ref, watch } from 'vue';\r\nimport { useAuth } from '~/composables/useAuth';\r\nimport { useEscapeKey } from '~/composables/useEscapeKey';\r\nimport { useI18n } from '~/composables/useI18n';\r\n\r\ndefinePageMeta({\r\n\tssr: false,\r\n});\r\n\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nuseEscapeKey(() => router.replace('/'));\r\n\r\nconst { resetPassword } = useAuth();\r\nconst { t } = useI18n();\r\n\r\nconst password = ref('');\r\nconst confirmPassword = ref('');\r\nconst isLoading = ref(false);\r\nconst error = ref('');\r\nconst success = ref(false);\r\n\r\nconst token = computed(() => {\r\n\tconst raw = route.query.token;\r\n\tif (Array.isArray(raw)) return raw[0] || '';\r\n\treturn typeof raw === 'string' ? raw : '';\r\n});\r\n\r\nconst tokenMissing = computed(() => !token.value);\r\n\r\nwatch([password, confirmPassword], () => {\r\n\tif (error.value) error.value = '';\r\n});\r\n\r\nasync function handleSubmit() {\r\n\tif (tokenMissing.value) {\r\n\t\terror.value = t.value.authPage.resetPasswordExpired;\r\n\t\treturn;\r\n\t}\r\n\tif (password.value !== confirmPassword.value) {\r\n\t\terror.value = t.value.passwordsMustMatch;\r\n\t\treturn;\r\n\t}\r\n\r\n\tisLoading.value = true;\r\n\terror.value = '';\r\n\r\n\ttry {\r\n\t\tconst result = await resetPassword(token.value, password.value);\r\n\t\tif (!result.success) {\r\n\t\t\terror.value = result.error || t.value.errors.ERR_GENERIC;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsuccess.value = true;\r\n\t} finally {\r\n\t\tisLoading.value = false;\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.auth-page {\r\n\tposition: relative;\r\n\tmin-height: 100vh;\r\n\tbackground: #0b0d12;\r\n\tcolor: #fff;\r\n\toverflow: hidden;\r\n}\r\n\r\n.gradient {\r\n\tposition: absolute;\r\n\tinset: 0;\r\n\tbackground: radial-gradient(\r\n\t\t\tcircle at 85% 20%,\r\n\t\t\trgba(72, 187, 120, 0.45),\r\n\t\t\ttransparent 55%\r\n\t\t),\r\n\t\tradial-gradient(circle at 20% 0%, rgba(252, 211, 77, 0.35), transparent 55%),\r\n\t\tlinear-gradient(\r\n\t\t\t135deg,\r\n\t\t\trgba(13, 17, 23, 0.95) 0%,\r\n\t\t\trgba(13, 17, 23, 0.8) 70%\r\n\t\t);\r\n\tfilter: blur(0px);\r\n\tz-index: 0;\r\n}\r\n\r\n.auth-shell {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tpadding: 3rem 1rem;\r\n\tmin-height: 100vh;\r\n\tz-index: 1;\r\n}\r\n\r\n.auth-card {\r\n\twidth: 100%;\r\n\tmax-width: 420px;\r\n\tbackground: rgba(255, 255, 255, 0.9);\r\n\tbackdrop-filter: blur(6px);\r\n\tborder-radius: 16px;\r\n\tpadding: 2.5rem;\r\n\tbox-shadow: 0 20px 60px rgba(0, 0, 0, 0.18);\r\n\tcolor: #0f1115;\r\n}\r\n\r\n.auth-header {\r\n\ttext-align: left;\r\n\tmargin-bottom: 1.5rem;\r\n}\r\n\r\n.eyebrow {\r\n\ttext-transform: uppercase;\r\n\tfont-size: 0.75rem;\r\n\tletter-spacing: 0.2em;\r\n\tcolor: #74d66d;\r\n\tmargin-bottom: 0.5rem;\r\n}\r\n\r\n.subtitle {\r\n\tcolor: #5c6470;\r\n\tmargin-top: 0.5rem;\r\n\tmargin-bottom: 1rem;\r\n\tline-height: 1.5;\r\n}\r\n\r\n.form {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 1rem;\r\n}\r\n\r\n.form-group label {\r\n\tdisplay: block;\r\n\tmargin-bottom: 0.4rem;\r\n\tfont-weight: 600;\r\n\tcolor: #242b36;\r\n}\r\n\r\n.form-group input {\r\n\twidth: 100%;\r\n\tpadding: 0.85rem;\r\n\tborder-radius: 10px;\r\n\tborder: 1px solid #d4d8de;\r\n\tfont-size: 1rem;\r\n}\r\n\r\n.form-group input:focus {\r\n\toutline: none;\r\n\tborder-color: #74d66d;\r\n\tbox-shadow: 0 0 0 2px rgba(116, 214, 109, 0.15);\r\n}\r\n\r\n.alert {\r\n\tbackground: #fff7ed;\r\n\tborder-radius: 10px;\r\n\tpadding: 0.75rem 1rem;\r\n\tcolor: #c2410c;\r\n\tfont-size: 0.95rem;\r\n}\r\n\r\n.primary {\r\n\tbackground: #2563eb;\r\n\tcolor: #fff;\r\n\tborder: none;\r\n\tpadding: 0.9rem;\r\n\tborder-radius: 10px;\r\n\tfont-size: 1rem;\r\n\tfont-weight: 600;\r\n\tcursor: pointer;\r\n\ttransition: transform 0.15s ease, box-shadow 0.15s ease;\r\n}\r\n\r\n.primary:disabled {\r\n\topacity: 0.7;\r\n\tcursor: not-allowed;\r\n}\r\n\r\n.primary:hover:not(:disabled) {\r\n\ttransform: translateY(-1px);\r\n\tbox-shadow: 0 12px 30px rgba(37, 99, 235, 0.25);\r\n}\r\n\r\n.success-copy {\r\n\ttext-align: left;\r\n\tcolor: #1f2937;\r\n}\r\n\r\n.success-copy h2 {\r\n\tmargin-bottom: 0.5rem;\r\n}\r\n\r\n.error {\r\n\tmargin-top: 1rem;\r\n\tcolor: #d93025;\r\n\tfont-weight: 500;\r\n\tbackground: #fdecea;\r\n\tpadding: 0.75rem 1rem;\r\n\tborder-radius: 8px;\r\n}\r\n\r\n.back-home {\r\n\tmargin-top: 1.25rem;\r\n\ttext-align: center;\r\n}\r\n\r\n.back-link {\r\n\tcolor: #5c6470;\r\n\ttext-decoration: none;\r\n\tfont-size: 0.9rem;\r\n}\r\n\r\n.back-link:hover {\r\n\ttext-decoration: underline;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n\t.auth-card {\r\n\t\tpadding: 1.75rem;\r\n\t}\r\n}\r\n</style>\r\n"],"names":["router","useRouter","route","useRoute","useEscapeKey","resetPassword","useAuth","t","useI18n","password","ref","confirmPassword","isLoading","error","success","token","computed","raw","tokenMissing","watch","handleSubmit","result","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_unref","_hoisted_6","_hoisted_15","_hoisted_7","_hoisted_8","$event","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_16","_hoisted_17","_createBlock","_component_NuxtLink","_createTextVNode"],"mappings":"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"}